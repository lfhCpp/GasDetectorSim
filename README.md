     =========================================================
        MusicGeant4GarfieldInterface  C++ Code @Lufenhua
     =========================================================

:warning: To compile and link this program, a version of Geant4.10 must be installed.

To run the program in batch mode, please type:

./MUSIC -m ./run.mac  or nohup ./MUSIC -m ./run.mac

In `run.mac`, you can set the material of the absorber to be used, as well as the type and energy of the particle fired from the particle gun.
The ionization model (PAIPhot or PAI model in Geant4, Heed in Garfield++) and the valid particle types and energy ranges can be set in the file `physics.mac`.
The program can also be run with visualization. For that, type:

./MUSIC

and then press the "run" button.

/////////////////////////////////Based on exampleGeant4Interface///////////////////////////
 To run the program in batch mode, please type:

./MUSIC -m run.mac

More information for debugging -> #define CoutMessageToDebug in GarfieldPhysics.cc

Modifications have been made in the following files:
GarfieldDetectorConstruction.cc    Changes to the detector geometry
GarfieldG4FastSimulationModel.CC   Outputs particle position and energy each time the DoIt function is called (which invokes Garfield)
GarfieldPhysics.cc                 Outputs related information
GarfieldPrimaryGeneratorAction.cc  Changes to the particle source; allows selection of Fe particle source or He/P emission
GarfieldSteppingAction.cc          Outputs particle type, position, energy loss, etc., for each step
GarfieldEventAction.cc             Stores information after each event ends

In the function GarfieldG4FastSimulationModel::DoIt() in GarfieldG4FastSimulationModel.cc

Setting fGarfieldPhysics->EnableCreateSecondariesInGeant4(true) will return particles generated by Garfield simulation to G4 to create secondary particles for continued simulation.

The coordinate origin for the Geant4 and Garfield interface is set to the center of the fast simulation logical volume defined in Geant4.

---------------for Debug-------------------

In the function GarfieldPhysics::InitializePhysics() in GarfieldPhysics.cc, the following features can be defined:
#define ar_ch4             // Use ar_ch4 gas. Note: The material in GarfieldDetectorConstruction.cc should be changed accordingly.
#define MC                 // Use Garfield::AvalancheMC simulation
#define plot               // For debugging (simulate a single event), plots electric field, potential, and readout signals (and outputs signal data to a text file)
#define CoutMessageToDebug // Outputs more simulation process information for debugging

